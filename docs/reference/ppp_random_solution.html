<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Random solutions for the 'Project Prioritization Protocol' problem — ppp_random_solution • optimalppp</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Random solutions for the 'Project Prioritization Protocol' problem — ppp_random_solution" />

<meta property="og:description" content="Generate random solutions for the 'Project Prioritization Protocol' problem.
Although conservation projects should, ideally, not be funded based on random
allocations, it can be useful to compare the effectiveness of solutions to
random decision in order to evaluate their effectiveness.
When informing conservation actions, it is strongly recommended to
use the ppp_exact_solution method because it can identify
optimal funding schemes with a guarantee." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">optimalppp</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.0.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/optimalppp.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/prioritizr/optimalppp">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Random solutions for the 'Project Prioritization Protocol' problem</h1>
    <small class="dont-index">Source: <a href='https://github.com/prioritizr/optimalppp/blob/master/R/ppp_random_solution.R'><code>R/ppp_random_solution.R</code></a></small>
    <div class="hidden name"><code>ppp_random_solution.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Generate random solutions for the 'Project Prioritization Protocol' problem.
Although conservation projects should, ideally, not be funded based on random
allocations, it can be useful to compare the effectiveness of solutions to
random decision in order to evaluate their effectiveness.
<strong>When informing conservation actions, it is strongly recommended to
use the <code><a href='ppp_exact_solution.html'>ppp_exact_solution</a></code> method because it can identify
optimal funding schemes with a guarantee.</strong></p>
    
    </div>

    <pre class="usage"><span class='fu'>ppp_random_solution</span>(<span class='no'>x</span>, <span class='no'>tree</span>, <span class='no'>budget</span>, <span class='no'>project_column_name</span>, <span class='no'>cost_column_name</span>,
  <span class='no'>success_column_name</span>, <span class='kw'>locked_in_column_name</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>locked_out_column_name</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>number_solutions</span> <span class='kw'>=</span> <span class='fl'>1L</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p><code><a href='http://www.rdocumentation.org/packages/base/topics/data.frame'>data.frame</a></code> or <code><a href='http://www.rdocumentation.org/packages/tibble/topics/tibble'>tibble</a></code>
table containing project data. Here, each row should correspond to
a different project and columns should contain that correspond to
each project. See the Details section below for more information.</p></td>
    </tr>
    <tr>
      <th>tree</th>
      <td><p><code><a href='http://www.rdocumentation.org/packages/ape/topics/read.tree'>phylo</a></code> phylogenetic tree describing the
evolutionary history of the species affected by the conservation
projects that could potentially be funded. Note that every single
species that is affected by the various conservation projects should
be represented in this tree.</p></td>
    </tr>
    <tr>
      <th>budget</th>
      <td><p><code>numeric</code> value that represents the total budget available
for funding conservation projects.</p></td>
    </tr>
    <tr>
      <th>project_column_name</th>
      <td><p><code>character</code> name of column that contains
the name for each conservation project. Note that the project names
must not contain any duplicates or missing values.</p></td>
    </tr>
    <tr>
      <th>cost_column_name</th>
      <td><p><code>character</code> name of column that
indicates the cost for funding each project. This column must have
<code>numeric</code> values which are equal to or greater than zero. No missing
values are permitted.</p></td>
    </tr>
    <tr>
      <th>success_column_name</th>
      <td><p><code>character</code> name of column that
denotes the probability that each project will succeed if it is funded.
This column must have <code>numeric</code> values which lay between zero and one.
No missing values are permitted.</p></td>
    </tr>
    <tr>
      <th>locked_in_column_name</th>
      <td><p><code>character</code> name of column that
indicates which projects should be locked into the funding scheme. For
example, it may be desirable to mandate that projects for
iconic species are funded in the prioritization. This column should
contain <code>logical</code> values, and projects associated with <code>TRUE</code>
values are locked into the solution. No missing values are permitted.
Defaults to <code>NULL</code> such that no projects are locked into the
solution.</p></td>
    </tr>
    <tr>
      <th>locked_out_column_name</th>
      <td><p><code>character</code> name of column that
indicates which projects should be locked out of the funding scheme. For
example, it may be desirable to lock out projects for certain species
that are expected to have little support from the public. This column
should contain <code>logical</code> values, and projects associated with
<code>TRUE</code> values are locked out of the solution. No missing values are
permitted. Defaults to <code>NULL</code> such that no projects are locked out of
the solution.</p></td>
    </tr>
    <tr>
      <th>number_solutions</th>
      <td><p><code>numeric</code> number of solutions to return. If
the argument is greater than <code>1</code>, then the output will contain the
set number of solutions that are closest to optimality. No missing values
are permitted. Defaults to <code>1</code>.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The random solutions are generated using the following algorithm.
 All projects are initially selected for funding. Next,
 a project is randomly deselected for funding (removed), and this step
 is repeated until the cost of the remaining projects is within the
 budget. Note that projects that have zero cost are never deselected for
 funding, and are always included in the solutions. The different solutions
 are then evaluated according to the 'expected phylogenetic diversity'
 metric (Faith 2008).</p>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Faith DP (2008) Threatened species and the potential loss of
phylogenetic diversity: conservation scenarios based on estimated extinction
probabilities and phylogenetic risk analysis. <em>Conservation Biology</em>,
<strong>22</strong>: 1461--1470.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>For other methods for generating solutions for the 'Project
  Prioritization Protocol' problem, see <code><a href='ppp_heuristic_solution.html'>ppp_heuristic_solution</a></code>
  <code><a href='ppp_exact_solution.html'>ppp_exact_solution</a></code>, and <code><a href='ppp_manual_solution.html'>ppp_manual_solution</a></code>.
  To visualize the effectiveness of a particular solution, see
  <code><a href='ppp_plot.html'>ppp_plot</a></code>.</p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># load built-in data</span>
<span class='fu'>data</span>(<span class='no'>sim_project_data</span>, <span class='no'>sim_tree</span>)

<span class='co'># print simulated project data set</span>
<span class='fu'>print</span>(<span class='no'>sim_project_data</span>)</div><div class='output co'>#&gt; # A tibble: 51 x 55
#&gt;    name   cost success locked_in locked_out    S1   S10   S11   S12   S13   S14
#&gt;    &lt;chr&gt; &lt;dbl&gt;   &lt;dbl&gt; &lt;lgl&gt;     &lt;lgl&gt;      &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
#&gt;  1 S1_p~  94.4   0.807 FALSE     FALSE      0.743 0     0     0     0     0    
#&gt;  2 S2_p~ 101.    0.788 FALSE     FALSE      0     0.750 0     0     0     0    
#&gt;  3 S3_p~ 103.    0.832 FALSE     FALSE      0     0     0.561 0     0     0    
#&gt;  4 S4_p~  99.2   0.945 FALSE     FALSE      0     0     0     0.590 0     0    
#&gt;  5 S5_p~  99.9   0.829 FALSE     FALSE      0     0     0     0     0.789 0    
#&gt;  6 S6_p~ 100.    0.970 FALSE     FALSE      0     0     0     0     0     0.825
#&gt;  7 S7_p~  93.9   0.723 FALSE     FALSE      0     0     0     0     0     0    
#&gt;  8 S8_p~  91.7   0.981 FALSE     FALSE      0     0     0     0     0     0    
#&gt;  9 S9_p~ 100.    0.947 FALSE     FALSE      0     0     0     0     0     0    
#&gt; 10 S10_~  93.1   0.787 FALSE     FALSE      0     0     0     0     0     0    
#&gt; # ... with 41 more rows, and 44 more variables: S15 &lt;dbl&gt;, S16 &lt;dbl&gt;,
#&gt; #   S17 &lt;dbl&gt;, S18 &lt;dbl&gt;, S19 &lt;dbl&gt;, S2 &lt;dbl&gt;, S20 &lt;dbl&gt;, S21 &lt;dbl&gt;, S22 &lt;dbl&gt;,
#&gt; #   S23 &lt;dbl&gt;, S24 &lt;dbl&gt;, S25 &lt;dbl&gt;, S26 &lt;dbl&gt;, S27 &lt;dbl&gt;, S28 &lt;dbl&gt;,
#&gt; #   S29 &lt;dbl&gt;, S3 &lt;dbl&gt;, S30 &lt;dbl&gt;, S31 &lt;dbl&gt;, S32 &lt;dbl&gt;, S33 &lt;dbl&gt;, S34 &lt;dbl&gt;,
#&gt; #   S35 &lt;dbl&gt;, S36 &lt;dbl&gt;, S37 &lt;dbl&gt;, S38 &lt;dbl&gt;, S39 &lt;dbl&gt;, S4 &lt;dbl&gt;, S40 &lt;dbl&gt;,
#&gt; #   S41 &lt;dbl&gt;, S42 &lt;dbl&gt;, S43 &lt;dbl&gt;, S44 &lt;dbl&gt;, S45 &lt;dbl&gt;, S46 &lt;dbl&gt;,
#&gt; #   S47 &lt;dbl&gt;, S48 &lt;dbl&gt;, S49 &lt;dbl&gt;, S5 &lt;dbl&gt;, S50 &lt;dbl&gt;, S6 &lt;dbl&gt;, S7 &lt;dbl&gt;,
#&gt; #   S8 &lt;dbl&gt;, S9 &lt;dbl&gt;</div><div class='input'>
<span class='co'># print simulated phylogenetic tree data set</span>
<span class='fu'>print</span>(<span class='no'>sim_tree</span>)</div><div class='output co'>#&gt; 
#&gt; Phylogenetic tree with 50 tips and 49 internal nodes.
#&gt; 
#&gt; Tip labels:
#&gt; 	S7, S30, S19, S15, S2, S49, ...
#&gt; 
#&gt; Rooted; includes branch lengths.</div><div class='input'>
<span class='co'># plot the simulated phylogeny</span>
<span class='fu'>plot</span>(<span class='no'>sim_tree</span>, <span class='kw'>main</span> <span class='kw'>=</span> <span class='st'>"simulated phylogeny"</span>)</div><div class='img'><img src='ppp_random_solution-1.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># generate 10 random solutions that meet a budget of 300</span>
<span class='no'>s1</span> <span class='kw'>&lt;-</span> <span class='fu'>ppp_random_solution</span>(<span class='no'>sim_project_data</span>, <span class='no'>sim_tree</span>, <span class='fl'>300</span>,
                          <span class='st'>"name"</span>, <span class='st'>"cost"</span>, <span class='st'>"success"</span>, <span class='kw'>number_solutions</span> <span class='kw'>=</span> <span class='fl'>10</span>)

<span class='co'># print solutions</span>
<span class='fu'>print</span>(<span class='no'>s1</span>)</div><div class='output co'>#&gt; # A tibble: 10 x 57
#&gt;    solution objective budget  cost optimal method S1_project S2_project
#&gt;       &lt;int&gt;     &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;lgl&gt;   &lt;chr&gt;  &lt;lgl&gt;      &lt;lgl&gt;     
#&gt;  1        1      6.16    300  213. NA      random FALSE      FALSE     
#&gt;  2        2      6.14    300  205. NA      random FALSE      FALSE     
#&gt;  3        3      6.34    300  300. NA      random FALSE      FALSE     
#&gt;  4        4      6.28    300  295. NA      random FALSE      FALSE     
#&gt;  5        5      6.19    300  299. NA      random FALSE      FALSE     
#&gt;  6        6      6.19    300  202. NA      random FALSE      FALSE     
#&gt;  7        7      6.19    300  201. NA      random FALSE      FALSE     
#&gt;  8        8      6.19    300  295. NA      random TRUE       TRUE      
#&gt;  9        9      6.32    300  207. NA      random FALSE      FALSE     
#&gt; 10       10      6.14    300  294. NA      random FALSE      FALSE     
#&gt; # ... with 49 more variables: S3_project &lt;lgl&gt;, S4_project &lt;lgl&gt;,
#&gt; #   S5_project &lt;lgl&gt;, S6_project &lt;lgl&gt;, S7_project &lt;lgl&gt;, S8_project &lt;lgl&gt;,
#&gt; #   S9_project &lt;lgl&gt;, S10_project &lt;lgl&gt;, S11_project &lt;lgl&gt;, S12_project &lt;lgl&gt;,
#&gt; #   S13_project &lt;lgl&gt;, S14_project &lt;lgl&gt;, S15_project &lt;lgl&gt;, S16_project &lt;lgl&gt;,
#&gt; #   S17_project &lt;lgl&gt;, S18_project &lt;lgl&gt;, S19_project &lt;lgl&gt;, S20_project &lt;lgl&gt;,
#&gt; #   S21_project &lt;lgl&gt;, S22_project &lt;lgl&gt;, S23_project &lt;lgl&gt;, S24_project &lt;lgl&gt;,
#&gt; #   S25_project &lt;lgl&gt;, S26_project &lt;lgl&gt;, S27_project &lt;lgl&gt;, S28_project &lt;lgl&gt;,
#&gt; #   S29_project &lt;lgl&gt;, S30_project &lt;lgl&gt;, S31_project &lt;lgl&gt;, S32_project &lt;lgl&gt;,
#&gt; #   S33_project &lt;lgl&gt;, S34_project &lt;lgl&gt;, S35_project &lt;lgl&gt;, S36_project &lt;lgl&gt;,
#&gt; #   S37_project &lt;lgl&gt;, S38_project &lt;lgl&gt;, S39_project &lt;lgl&gt;, S40_project &lt;lgl&gt;,
#&gt; #   S41_project &lt;lgl&gt;, S42_project &lt;lgl&gt;, S43_project &lt;lgl&gt;, S44_project &lt;lgl&gt;,
#&gt; #   S45_project &lt;lgl&gt;, S46_project &lt;lgl&gt;, S47_project &lt;lgl&gt;, S48_project &lt;lgl&gt;,
#&gt; #   S49_project &lt;lgl&gt;, S50_project &lt;lgl&gt;, baseline_project &lt;lgl&gt;</div><div class='input'>
<span class='co'># plot first solution</span>
<span class='fu'><a href='ppp_plot.html'>ppp_plot</a></span>(<span class='no'>sim_project_data</span>, <span class='no'>sim_tree</span>, <span class='no'>s1</span>, <span class='st'>"name"</span>, <span class='st'>"cost"</span>, <span class='st'>"success"</span>, <span class='kw'>n</span> <span class='kw'>=</span> <span class='fl'>1</span>)</div><div class='img'><img src='ppp_random_solution-2.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># view histogram of their objective values</span>
<span class='fu'>hist</span>(<span class='no'>s1</span>$<span class='no'>objective</span>, <span class='kw'>xlab</span> <span class='kw'>=</span> <span class='st'>"solution objective"</span>)</div><div class='img'><img src='ppp_random_solution-3.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># view histogram of their costs</span>
<span class='fu'>hist</span>(<span class='no'>s1</span>$<span class='no'>cost</span>, <span class='kw'>xlab</span> <span class='kw'>=</span> <span class='st'>"solution cost"</span>)</div><div class='img'><img src='ppp_random_solution-4.png' alt='' width='700' height='433' /></div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#details">Details</a></li>

      <li><a href="#references">References</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://jeffrey-hanson.com'>Jeffrey O Hanson</a>, <a href='http://www.richard-schuster.com/'>Richard Schuster</a>, <a href='http://strimas.com'>Matthew Strimas-Mackey</a>, <a href='https://josephrbennett.wordpress.com/'>Joeseph Bennett</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

